generator client {
  provider = "prisma-client-js"
  output   = "../src"

  engineType             = "binaries"
  runtime                = "nodejs"
  moduleFormat           = "esm"
  generatedFileExtension = "ts"
  importFileExtension    = "js"
}

datasource db {
  provider = "postgresql"
}

//#region Models

model GuildSetting {
  guildId           String   @db.VarChar
  prefix            String?
  interactionsMode  Boolean  @default(true)
  language          String   @default("en-GB")
  errorChannel      String?  @db.VarChar
  rpEnabled         Boolean  @default(false)
  rpEnableRuns      Decimal  @default(0) @db.Decimal
  lastRpSyncRun     Decimal? @db.Decimal
  ptReminderEnabled Boolean  @default(true)
  legacyRp          Boolean  @default(false)
  editRpCommands    Boolean  @default(true)
  enableInvitesAt   Decimal? @db.Decimal
  statusChannel     String?  @db.VarChar
  updatesChannel    String?
  notifyChannel     String?

  @@id([guildId])
  @@index([guildId])
}

model CustomClient {
  guildId   String  @db.VarChar
  appId     String? @db.VarChar
  token     String? @db.VarChar
  publicKey String? @db.VarChar
  secret    String? @db.VarChar

  @@id([guildId])
  @@index([appId])
}

model FilteredWord {
  keyword    String
  filterType FilterType

  @@id([keyword, filterType])
}

enum FilterType {
  Profanity
  SexualContent
  Slurs
}

model AfkState {
  userId  String  @db.VarChar
  reason  String?
  since   Decimal @db.Decimal
  guildId String  @db.VarChar

  @@id([userId, guildId])
  @@index([userId, guildId])
}

model AfkSetting {
  guildId    String @db.VarChar
  maxLetters Int    @default(250)

  @@id(guildId)
}

//#endregion
